# Copyright 2023 Innkeeper gotribe <info@gotribe.cn>. All rights reserved.
# Use of this source code is governed by a Apache style
# license that can be found in the LICENSE file. The original repo for
# this file is https://www.gotribe.cn

# 开发环境配置模板
# 请复制此文件为 config.yml 并修改相应配置
system:
  # 设定模式(debug/release/test,正式版改为release)
  mode: debug
  # url前缀
  url-path-prefix: api
  # 程序监听端口
  port: 8088
  # 是否初始化数据(没有初始数据时使用, 已发布正式版改为false)
  init-data: true
  # cdn域名
  cdn-domain: https://cdn.example.com/
  # 是否启动数据迁移
  enable-migrate: true


logs:
  # 日志等级(-1:Debug, 0:Info, 1:Warn, 2:Error, 3:DPanic, 4:Panic, 5:Fatal, -1<=level<=5, 参照zap.level源码)
  level: -1
  # 日志路径
  path: logs
  # 文件最大大小, M
  max-size: 50
  # 备份数
  max-backups: 100
  # 存放时间, 天
  max-age: 30
  # 是否压缩
  compress: false

database:
  # 数据库类型 (mysql/postgres)
  type: mysql
  # 用户名
  username: root
  # 密码
  password: your_password_here
  # 数据库名
  database: gotribe
  # 主机地址
  host: localhost
  # 端口
  port: 3306
  # 连接字符串参数
  query: parseTime=True&loc=Local&timeout=10000ms
  # 是否打印日志
  log-mode: true
  # 编码方式 (仅MySQL使用)
  charset: utf8mb4
  # 字符集 (仅MySQL使用)
  collation: utf8mb4_general_ci
  # SSL模式 (仅PostgreSQL使用)
  sslmode: disable

# casbin配置
casbin:
  # 模型配置文件, config.yml相对路径
  model-path: 'rbac_model.conf'

# jwt配置
jwt:
  # jwt标识
  realm: gotribe-admin
  # 服务端密钥 (请修改为随机字符串)
  key: your_jwt_secret_key_here
  # token过期时间, 小时
  timeout: 12
  # 刷新token最大过期时间, 小时
  max-refresh: 12

# 令牌桶限流配置
rate-limit:
  # 填充一个令牌需要的时间间隔,毫秒
  fill-interval: 50
  # 桶容量
  capacity: 200

# 上传文件配置
upload-file:
  # 上传服务商: qiniu(七牛) / oss(阿里云OSS) / s3(亚马逊S3，预留)
  provider: qiniu
  # 访问密钥 (请填写您的OSS/七牛/S3访问密钥)
  access-key: your_access_key_here
  # 秘密密钥 (请填写您的OSS/七牛/S3秘密密钥)
  secret-key: your_secret_key_here
  # 端点 (七牛云可不填；OSS/S3 填写对应 endpoint)
  endpoint: your_endpoint_here
  # 存储桶名称
  bucket: your_bucket_name_here

# 百度推送配置
baidu:
  # 百度推送Token (请填写您的百度推送Token)
  push-token: your_baidu_push_token_here

# 定时任务配置
jobs:
  # 全局启用开关
  enabled: false
  # 任务列表
  list:
    sitemap:
      name: sitemap
      description: "生成站点地图"
      schedule: "@every 1h" # 1小时执行一次
      enabled: true
      timeout: 300s # 5分钟超时
      retry-count: 3
    example:
      name: example
      description: "示例任务"
      schedule: "@every 30s"
      enabled: false
      timeout: 60s
      retry-count: 1
