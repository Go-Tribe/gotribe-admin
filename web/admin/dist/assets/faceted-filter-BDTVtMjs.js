import{e as j,j as e,B as v,f as u}from"./index-Pe1Nv6hH.js";import{h as p,i as g}from"./react-icons.esm-CiMB90YA.js";import{B as t}from"./badge-T19Q3klL.js";import{g as F,a as b,b as N,c as y,d as h,e as f,f as C}from"./command-D9eDedTW.js";import{P as z,a as V,b as S}from"./popover-CrxLZKyN.js";import{S as T}from"./separator-Bq1fgMtF.js";function E({column:r,title:m,options:l,single:n=!1}){const{t:d}=j(),o=r?.getFacetedUniqueValues(),i=r?.getFilterValue(),a=n?new Set(i?[i]:[]):new Set(i||[]);return e.jsxs(z,{children:[e.jsx(V,{asChild:!0,children:e.jsxs(v,{variant:"outline",size:"sm",className:"h-8 border-dashed",children:[e.jsx(p,{className:"size-4"}),m,a?.size>0&&e.jsxs(e.Fragment,{children:[e.jsx(T,{orientation:"vertical",className:"mx-2 h-4"}),n?e.jsx(t,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:l.find(s=>a.has(s.value))?.label}):e.jsxs(e.Fragment,{children:[e.jsx(t,{variant:"secondary",className:"rounded-sm px-1 font-normal lg:hidden",children:a.size}),e.jsx("div",{className:"hidden space-x-1 lg:flex",children:a.size>2?e.jsxs(t,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:[a.size," ",d("components.dataTable.facetedFilter.selected")]}):l.filter(s=>a.has(s.value)).map(s=>e.jsx(t,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:s.label},s.value))})]})]})]})}),e.jsx(S,{className:"w-[200px] p-0",align:"start",children:e.jsxs(F,{children:[e.jsx(b,{placeholder:m}),e.jsxs(N,{children:[e.jsx(y,{children:d("components.dataTable.facetedFilter.noResultsFound")}),e.jsx(h,{children:l.map(s=>{const c=a.has(s.value);return e.jsxs(f,{onSelect:()=>{if(n)c?r?.setFilterValue(void 0):r?.setFilterValue(s.value);else{c?a.delete(s.value):a.add(s.value);const x=Array.from(a);r?.setFilterValue(x.length?x:void 0)}},children:[e.jsx("div",{className:u("flex size-4 items-center justify-center rounded-sm border border-primary",c?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:e.jsx(g,{className:u("h-4 w-4 text-background")})}),s.icon&&e.jsx(s.icon,{className:"size-4 text-muted-foreground"}),e.jsx("span",{children:s.label}),o?.get(s.value)&&e.jsx("span",{className:"ms-auto flex h-4 w-4 items-center justify-center font-mono text-xs",children:o.get(s.value)})]},s.value)})}),a.size>0&&e.jsxs(e.Fragment,{children:[e.jsx(C,{}),e.jsx(h,{children:e.jsx(f,{onSelect:()=>r?.setFilterValue(void 0),className:"justify-center text-center",children:d("components.dataTable.facetedFilter.clearFilters")})})]})]})]})})]})}export{E as D};
