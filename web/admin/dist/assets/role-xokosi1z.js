import{r as i,j as o,c as w,f as F,m as f}from"./index-Pe1Nv6hH.js";import{c as O,P as _,u as H,b as N,C as G}from"./index-SpxnGYUf.js";import{u as K}from"./index-4GH7Kv3S.js";import{u as U}from"./index-C8jai3VV.js";import{P as X}from"./index-D68Ta3NN.js";var R="Checkbox",[J]=O(R),[Q,I]=J(R);function V(e){const{__scopeCheckbox:r,checked:c,children:l,defaultChecked:a,disabled:t,form:h,name:b,onCheckedChange:d,required:m,value:x="on",internal_do_not_use_render:u}=e,[p,v]=H({prop:c,defaultProp:a??!1,onChange:d,caller:R}),[C,g]=i.useState(null),[y,n]=i.useState(null),s=i.useRef(!1),E=C?!!h||!!C.closest("form"):!0,P={checked:p,disabled:t,setChecked:v,control:C,setControl:g,name:b,form:h,value:x,hasConsumerStoppedPropagationRef:s,required:m,defaultChecked:k(a)?!1:a,isFormControl:E,bubbleInput:y,setBubbleInput:n};return o.jsx(Q,{scope:r,...P,children:W(u)?u(P):l})}var S="CheckboxTrigger",A=i.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:c,...l},a)=>{const{control:t,value:h,disabled:b,checked:d,required:m,setControl:x,setChecked:u,hasConsumerStoppedPropagationRef:p,isFormControl:v,bubbleInput:C}=I(S,e),g=w(a,x),y=i.useRef(d);return i.useEffect(()=>{const n=t?.form;if(n){const s=()=>u(y.current);return n.addEventListener("reset",s),()=>n.removeEventListener("reset",s)}},[t,u]),o.jsx(_.button,{type:"button",role:"checkbox","aria-checked":k(d)?"mixed":d,"aria-required":m,"data-state":L(d),"data-disabled":b?"":void 0,disabled:b,value:h,...l,ref:g,onKeyDown:N(r,n=>{n.key==="Enter"&&n.preventDefault()}),onClick:N(c,n=>{u(s=>k(s)?!0:!s),C&&v&&(p.current=n.isPropagationStopped(),p.current||n.stopPropagation())})})});A.displayName=S;var B=i.forwardRef((e,r)=>{const{__scopeCheckbox:c,name:l,checked:a,defaultChecked:t,required:h,disabled:b,value:d,onCheckedChange:m,form:x,...u}=e;return o.jsx(V,{__scopeCheckbox:c,checked:a,defaultChecked:t,disabled:b,required:h,onCheckedChange:m,name:l,form:x,value:d,internal_do_not_use_render:({isFormControl:p})=>o.jsxs(o.Fragment,{children:[o.jsx(A,{...u,ref:r,__scopeCheckbox:c}),p&&o.jsx($,{__scopeCheckbox:c})]})})});B.displayName=R;var M="CheckboxIndicator",q=i.forwardRef((e,r)=>{const{__scopeCheckbox:c,forceMount:l,...a}=e,t=I(M,c);return o.jsx(X,{present:l||k(t.checked)||t.checked===!0,children:o.jsx(_.span,{"data-state":L(t.checked),"data-disabled":t.disabled?"":void 0,...a,ref:r,style:{pointerEvents:"none",...e.style}})})});q.displayName=M;var T="CheckboxBubbleInput",$=i.forwardRef(({__scopeCheckbox:e,...r},c)=>{const{control:l,hasConsumerStoppedPropagationRef:a,checked:t,defaultChecked:h,required:b,disabled:d,name:m,value:x,form:u,bubbleInput:p,setBubbleInput:v}=I(T,e),C=w(c,v),g=K(t),y=U(l);i.useEffect(()=>{const s=p;if(!s)return;const E=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(E,"checked").set,z=!a.current;if(g!==t&&j){const D=new Event("click",{bubbles:z});s.indeterminate=k(t),j.call(s,k(t)?!1:t),s.dispatchEvent(D)}},[p,g,t,a]);const n=i.useRef(k(t)?!1:t);return o.jsx(_.input,{type:"checkbox","aria-hidden":!0,defaultChecked:h??n.current,required:b,disabled:d,name:m,value:x,form:u,...r,tabIndex:-1,ref:C,style:{...r.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});$.displayName=T;function W(e){return typeof e=="function"}function k(e){return e==="indeterminate"}function L(e){return k(e)?"indeterminate":e?"checked":"unchecked"}function ne({className:e,...r}){return o.jsx(B,{"data-slot":"checkbox",className:F("peer size-4 shrink-0 rounded-[4px] border border-input shadow-xs transition-shadow outline-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:cursor-not-allowed disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 data-[state=checked]:border-primary data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:bg-input/30 dark:aria-invalid:ring-destructive/40 dark:data-[state=checked]:bg-primary",e),...r,children:o.jsx(q,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:o.jsx(G,{className:"size-3.5"})})})}async function oe(e){return f.get(`/api/role/menus/get/${e}`)}async function ae(e,r){return f.patch(`/api/role/menus/update/${e}`,r)}async function se(e){return f.get(`/api/role/apis/get/${e}`)}async function ce(e,r){return f.patch(`/api/role/apis/update/${e}`,r)}async function ie(e){return f.delete("/api/role/delete/batch",{data:{roleIds:[e]}})}const de=async e=>f.get("/api/role/list",{params:e});async function ue(){return f.get("/api/api/tree")}async function le(e){return f.post("/api/role/create",e)}async function pe(e){return f.patch(`/api/role/update/${e.id}`,e)}export{ne as C,ce as a,ue as b,se as c,le as d,pe as e,ie as f,oe as g,de as h,ae as u};
