(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e81b27a"],{"00ba":function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"b",(function(){return n})),a.d(e,"d",(function(){return s})),a.d(e,"a",(function(){return o}));var r=a("b775");function i(t){return Object(r["a"])({url:"/api/project",method:"get",params:t})}function n(t){return Object(r["a"])({url:"/api/project",method:"post",data:t})}function s(t,e){return Object(r["a"])({url:"/api/project/"+t,method:"patch",data:e})}function o(t){return Object(r["a"])({url:"/api/project",method:"delete",data:t})}},"15b3":function(t,e,a){"use strict";a("c506")},"166f":function(t,e,a){},"5d66":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"chart-card",attrs:{shadow:"always"}},[a("div",{staticClass:"chart-card-header"},[a("div",{staticClass:"chart-card-title"},[a("div",{staticClass:"chart-card-title-icon"},[a("i",{staticClass:"el-icon-s-marketing"})]),a("h4",[t._v("用户")])])]),a("div",{staticClass:"user-chart",staticStyle:{height:"300px"}})])},i=[],n=(a("d81d"),a("e9f5"),a("ab43"),a("d3b7"),a("313e")),s={name:"UserChart",props:{userList:{type:Array,default:function(){return[]}}},data:function(){return{userOption:{grid:{left:0,top:40,bottom:20,right:10,containLabel:!0},xAxis:{type:"category",data:[],axisLine:{lineStyle:{color:"#ccc"}},axisTick:{length:3},axisLabel:{color:"#999",rotate:45}},yAxis:{type:"value",axisLine:{show:!0,lineStyle:{color:"#ccc"}},axisLabel:{color:"#999"},splitLine:{show:!1}},tooltip:{trigger:"axis",textStyle:{fontSize:14}},series:[{name:"用户",type:"line",data:[],smooth:!0,showSymbol:!1,itemStyle:{color:"#126EFC"},lineStyle:{width:2,color:"#126EFC"},areaStyle:{color:"#cfe2f4"}}]}}},methods:{initUserChart:function(){var t=this;this.userChart=n["init"](document.querySelector(".user-chart")),this.userOption.xAxis.data=this.userList.map((function(t){return t.date})),this.userOption.series[0].data=this.userList.map((function(t){return t.totalUsers})),this.userChart.setOption(this.userOption),window.addEventListener("resize",(function(){t.userChart.resize()}))}}},o=s,c=(a("b883"),a("2877")),l=Object(c["a"])(o,r,i,!1,null,"2a1d52a2",null);e["default"]=l.exports},9406:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-container"},[a("el-card",{staticStyle:{margin:"0 10px 10px"}},[t._v(" 项目： "),a("el-select",{attrs:{placeholder:"项目"},on:{change:t.initData},model:{value:t.projectID,callback:function(e){t.projectID=e},expression:"projectID"}},t._l(t.projectList,(function(t){return a("el-option",{key:t.projectID,attrs:{label:t.title,value:t.projectID}})})),1)],1),a("el-row",t._l(t.infoList,(function(e){return a("el-col",{key:e.name,staticStyle:{padding:"0 10px"},attrs:{span:6}},[a("el-card",{staticClass:"info-card",attrs:{shadow:"always"}},[a("div",{staticClass:"info-card-top"},[a("div",{staticClass:"info-card-name"},[t._v(t._s(e.name))]),a("el-tag",{attrs:{type:"success",size:"mini"}},[t._v("今日")])],1),a("div",{staticClass:"info-card-value"},[t._v(t._s(e.value))])])],1)})),1),a("el-row",{staticClass:"mt-16"},t._l(t.operateList,(function(e){return a("el-col",{key:e.name,staticStyle:{padding:"0 10px"},attrs:{span:4}},[a("el-card",{staticClass:"operate-card",attrs:{shadow:"always"}},[a("router-link",{staticClass:"operate-item",attrs:{to:e.url}},[a("i",{class:e.icon,style:{color:e.color}}),a("span",[t._v(t._s(e.name))])])],1)],1)})),1),a("OrderChart",{ref:"orderChart",attrs:{"order-list":t.orderList},on:{timeChange:t.timeChange}}),a("UserChart",{ref:"userChart",attrs:{"user-list":t.userList}})],1)},i=[],n=a("c7eb"),s=a("1da1"),o=a("a9e9"),c=a("5d66"),l=a("b775");function u(t){return Object(l["a"])({url:"/api/index",method:"get",params:t})}function d(t){return Object(l["a"])({url:"/api/index/data",method:"get",params:t})}var h=a("00ba"),p={name:"Dashboard",components:{OrderChart:o["default"],UserChart:c["default"]},data:function(){return{infoList:[{name:"销售额",value:0},{name:"订单量",value:0},{name:"浏览量",value:0},{name:"新增用户",value:0}],operateList:[{icon:"el-icon-user-solid",name:"用户管理",url:"/business/user",color:"rgb(105, 192, 255)"},{icon:"el-icon-s-goods",name:"商品管理",url:"/store/product",color:"#67c3c2"},{icon:"el-icon-s-order",name:"订单管理",url:"/store/order",color:"#ac82e6"},{icon:"el-icon-document",name:"文章管理",url:"/content/article",color:"#8ba1fa"},{icon:"el-icon-menu",name:"项目管理",url:"/business/project",color:"rgb(149, 222, 100)"},{icon:"el-icon-chat-dot-square",name:"评论管理",url:"/operation/comment",color:"rgb(255, 156, 110)"}],projectList:[],projectID:"",timeRange:"week",orderList:[],userList:[{date:2,totalUsers:9}]}},mounted:function(){var t=this;return Object(s["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getProjectData();case 2:t.initData();case 3:case"end":return e.stop()}}),e)})))()},methods:{timeChange:function(t){this.timeRange=t,this.getIndexData()},initData:function(){this.getIndex(),this.getIndexData()},getIndex:function(){var t=this;u({projectID:this.projectID}).then((function(e){var a=e.data.indexDate;t.infoList[0].value=a.sales,t.infoList[1].value=a.orders,t.infoList[2].value=a.visitCount,t.infoList[3].value=a.newUsers}))},getIndexData:function(){var t=this;d({projectID:this.projectID,timeRange:this.timeRange}).then((function(e){t.userList=e.data.timeRangeData.users,t.orderList=e.data.timeRangeData.orders,t.$nextTick((function(){t.$refs.userChart.initUserChart(),t.$refs.orderChart.initOrderChart()}))}))},getProjectData:function(){var t=this;return Object(s["a"])(Object(n["a"])().mark((function e(){var a,r,i,s;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={title:"",description:"",pageNum:1,pageSize:50},e.next=3,Object(h["c"])(r);case 3:i=e.sent,s=i.data,t.projectList=s.projects,t.projectID=null===(a=s.projects[0])||void 0===a?void 0:a.projectID;case 7:case"end":return e.stop()}}),e)})))()}}},f=p,m=(a("15b3"),a("2877")),b=Object(m["a"])(f,r,i,!1,null,"4ffada84",null);e["default"]=b.exports},a973:function(t,e,a){},a9e9:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"chart-card",attrs:{shadow:"always"}},[a("div",{staticClass:"chart-card-header"},[a("div",{staticClass:"chart-card-title"},[a("div",{staticClass:"chart-card-title-icon"},[a("i",{staticClass:"el-icon-s-marketing"})]),a("h4",[t._v("订单")])]),a("el-radio-group",{on:{input:t.timeChange},model:{value:t.timeRange,callback:function(e){t.timeRange=e},expression:"timeRange"}},[a("el-radio-button",{attrs:{label:"week"}},[t._v("周")]),a("el-radio-button",{attrs:{label:"month"}},[t._v("月")]),a("el-radio-button",{attrs:{label:"year"}},[t._v("年")])],1)],1),a("div",{staticClass:"order-chart",staticStyle:{height:"300px"}})])},i=[],n=(a("d81d"),a("e9f5"),a("ab43"),a("d3b7"),a("313e")),s={name:"OrderChart",props:{orderList:{type:Array,default:function(){return[]}}},data:function(){return{timeRange:"week",orderOption:{backgroundColor:"#fff",grid:{left:0,top:40,bottom:20,right:10,containLabel:!0},tooltip:{trigger:"axis",textStyle:{fontSize:14}},legend:{data:["订单金额","订单数"],left:"center",itemWidth:20,itemHeight:15,top:10,textStyle:{color:"#333",fontSize:14,padding:[2,0,0,0]}},xAxis:{type:"category",data:[],axisLine:{lineStyle:{color:"#ccc"}},axisTick:{length:3},axisLabel:{color:"#999",rotate:45}},yAxis:[{type:"value",name:"订单金额",position:"left",axisLine:{show:!0,lineStyle:{color:"#ccc"}},axisLabel:{color:"#999"},splitLine:{show:!1},nameTextStyle:{color:"#606266"}},{type:"value",name:"订单数",position:"right",axisLine:{show:!0,lineStyle:{color:"#ccc"}},axisLabel:{color:"#999"},splitLine:{show:!1},nameTextStyle:{color:"#606266"}}],series:[{name:"订单金额",color:new n["graphic"].LinearGradient(1,1,0,0,[{offset:0,color:"#5cd1f8"},{offset:1,color:"#53b5f9"}]),type:"bar",barWidth:"15%",data:[],yAxisIndex:0},{name:"订单数",color:"#6dc88b",type:"line",smooth:!0,barWidth:"15%",data:[],yAxisIndex:1}]}}},methods:{timeChange:function(t){this.$emit("timeChange",t)},initOrderChart:function(){var t=this;this.orderChart=n["init"](document.querySelector(".order-chart")),this.orderOption.xAxis.data=this.orderList.map((function(t){return t.date})),this.orderOption.series[0].data=this.orderList.map((function(t){return t.totalSales})),this.orderOption.series[1].data=this.orderList.map((function(t){return t.totalOrders})),this.orderChart.setOption(this.orderOption),window.addEventListener("resize",(function(){t.orderChart.resize()}))}}},o=s,c=(a("c325"),a("2877")),l=Object(c["a"])(o,r,i,!1,null,"486af261",null);e["default"]=l.exports},b883:function(t,e,a){"use strict";a("a973")},c325:function(t,e,a){"use strict";a("166f")},c506:function(t,e,a){}}]);